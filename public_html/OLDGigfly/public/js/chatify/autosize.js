!function(e,t){if("function"==typeof define&&define.amd)define(["module","exports"],t);else if("undefined"!=typeof exports)t(module,exports);else{var n={exports:{}};t(n,n.exports),e.autosize=n.exports}}(this,function(e,t){"use strict";var n,o,r="function"==typeof Map?new Map:(n=[],o=[],{has:function e(t){return n.indexOf(t)>-1},get:function e(t){return o[n.indexOf(t)]},set:function e(t,r){-1===n.indexOf(t)&&(n.push(t),o.push(r))},delete:function e(t){var r=n.indexOf(t);r>-1&&(n.splice(r,1),o.splice(r,1))}}),i=function e(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(l){i=function e(t){var n=document.createEvent("Event");return n.initEvent(t,!0,!1),n}}function u(e){var t=r.get(e);t&&t.destroy()}function d(e){var t=r.get(e);t&&t.update()}var s=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((s=function e(t){return t}).destroy=function(e){return e},s.update=function(e){return e}):((s=function e(t,n){return t&&Array.prototype.forEach.call(t.length?t:[t],function(e){return function e(t){if(!(!t||!t.nodeName||"TEXTAREA"!==t.nodeName||r.has(t))){var n,o=null,l=null,u=null,d=function e(){t.clientWidth!==l&&a()},s=(function(e){window.removeEventListener("resize",d,!1),t.removeEventListener("input",a,!1),t.removeEventListener("keyup",a,!1),t.removeEventListener("autosize:destroy",s,!1),t.removeEventListener("autosize:update",a,!1),Object.keys(e).forEach(function(n){t.style[n]=e[n]}),r.delete(t)}).bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",s,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",a,!1),window.addEventListener("resize",d,!1),t.addEventListener("input",a,!1),t.addEventListener("autosize:update",a,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",r.set(t,{destroy:s,update:a}),"vertical"===(n=window.getComputedStyle(t,null)).resize?t.style.resize="none":"both"===n.resize&&(t.style.resize="horizontal"),isNaN(o="content-box"===n.boxSizing?-(parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)):parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth))&&(o=0),a()}function f(e){var n=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=n,t.style.overflowY=e}function c(){if(0!==t.scrollHeight){var e=function e(t){for(var n=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&n.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return n}(t),n=document.documentElement&&document.documentElement.scrollTop;t.style.height="",t.style.height=t.scrollHeight+o+"px",l=t.clientWidth,e.forEach(function(e){e.node.scrollTop=e.scrollTop}),n&&(document.documentElement.scrollTop=n)}}function a(){c();var e=Math.round(parseFloat(t.style.height)),n=window.getComputedStyle(t,null),o="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):t.offsetHeight;if(o<e?"hidden"===n.overflowY&&(f("scroll"),c(),o="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight):"hidden"!==n.overflowY&&(f("hidden"),c(),o="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight),u!==o){u=o;var r=i("autosize:resized");try{t.dispatchEvent(r)}catch(l){}}}}(e,n)}),t}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],u),e},s.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],d),e}),t.default=s,e.exports=t.default});